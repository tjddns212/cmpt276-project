<!DOCTYPE html>
<html>

	<head>

		<meta charset = "UTF-8" />
		<link rel = "stylesheet" th:href = "@{/styles/profile.css}" />
		<script th:src = "@{/scripts/Profile.js}" defer></script>

		<title>User Profile</title>

	</head>

	<body>

		<header>
			<a href = "/"><img th:src = "@{/images/roomlink_logo.png}"></a>
		</header>

		<main>

			<h1 class = "center">User Profile</h1>

			<button onclick = "document.getElementById('click').style.visibility = 'visible'" id = "button" style = "position: absolute; top: 0px; right: 0px;">
				<img th:if = "${session.session_user.avatar == 0}" class = "avatar" th:src = "@{/images/illustration-of-human-icon-user-symbol-icon-modern-design-on-blank-background-free-vector.jpg}">
				<img th:unless = "${session.session_user.avatar == 0}" class = "avatar" th:src="@{'data:' + ${imageType} + ';base64,' + ${imageData}}">
			</button>

			<form action = "changeAvatar" method = "post" id = "click" enctype = "multipart/form-data">
				<input type = "file" name = "file" id = "file" accept = "image/*">
				<button type = "submit" style = "width: 200px; float: left; margin-top: 10px; visibility: hidden" id = "changeButton">Change</button>
				<button type = "button" onclick = "document.getElementById('click').style.visibility = 'hidden'" style = "width: 200px; background-color: red; float: left; margin-top: 10px;">Cancel</button>
			</form>

			<form action = "edit" method = "post">
				<div>
					<table>
						<tr>
							<td>
								<span style = "width: 180px; display: inline-block">First Name:</span>
								<input th:value = "${user.first}" name = "first" id = "first">
							</td>
							<td>
								<span style = "width: 180px; display: inline-block">Last Name:</span>
								<input th:value = "${user.last}" name = "last" id = "last">
							</td>
						</tr>
						<tr>
							<td>
								<span style = "width: 180px; display: inline-block">Nickname:</span>
								<input th:value = "${user.nick}" name = "nick" id = "nick">
							</td>
							<td>
								<span style = "width: 180px; display: inline-block">Gender:</span>
								<input th:value = "${user.gender}" name = "gender" id = "gender">
							</td>
						</tr>
						<tr>
							<td>
								<span style = "width: 180px; display: inline-block">Email:</span>
								<input type = "email" th:value = "${user.email}" name = "email" id = "email">
							</td>
							<td>
								<span style = "width: 180px; display: inline-block">Password:</span>
								<input th:value = "${user.password}" name = "password" id = "password">
							</td>
						</tr>
					</table>

					<button class = "center" type = "submit">Update</button>
					<input th:value = "${user.uid}" name = "uid" id = "uid" style = "position: absolute; visibility: hidden">
				</div>
			</form>

		</main>

		<footer></footer>

	</body>

</html>
